# Test Cases — Parts-Kronos5 (Web)

Версия: 1.0  
Окружение по умолчанию: Chrome (desktop), https://parts-kronos5.ru/  

## Атрибуты тест-кейса
- **ID**
- **Title**
- **US:** связь с требованиями (user stories)
- **Module:** Auth / Search / AI Photo Search
- **Type:** Functional / Validation / UI / Negative / Security-sanity
- **Priority:** P0–P3
- **Severity (impact if fails):** Critical / Major / Minor
- **Preconditions**
- **Test Data**
- **Steps**
- **Expected Result**
- **Postconditions**

---

# AUTH

## Login (Email only)

**TC-AUTH-001**  
Title: Открытие/закрытие модального окна “Войти” (все способы)  
US: US-LOGIN-1  
Module: Auth  
Type: UI  
Priority: P1  
Severity: Minor  
Preconditions:
- Пользователь не авторизован.
- Открыта главная страница сайта.
Test Data: —  
Steps:
1) На главной странице найти элемент входа (кнопка/ссылка “Войти” или иконка профиля) и нажать на него.  
2) Убедиться, что открылась модальная форма “Войти” и видимы поля Email и Пароль, а также ссылки “Регистрация”.  
3) Нажать на крестик закрытия в правом верхнем углу модального окна.  
4) Повторно открыть модалку “Войти” тем же способом.  
5) Нажать клавишу **ESC**.  
6) Повторно открыть модалку “Войти”.  
7) Кликнуть мышью вне модального окна (по затемненной области).  
Expected Result:
- Модальное окно “Войти” открывается при нажатии на элемент входа.
- Модалка корректно закрывается крестиком, клавишей ESC и кликом вне окна.
- После закрытия на странице не остается затемнения/оверлея и элементы страницы кликабельны.
Postconditions: —  

---

**TC-AUTH-002**  
Title: Кнопка “Войти” неактивна при пустых полях Email и Пароль  
US: US-LOGIN-1  
Module: Auth  
Type: Validation  
Priority: P0  
Severity: Major  
Preconditions:
- Пользователь не авторизован.
- Открыта модалка “Войти”.
Test Data: —  
Steps:
1) Убедиться, что поле Email пустое (при необходимости очистить).  
2) Убедиться, что поле Пароль пустое.  
3) Визуально проверить состояние кнопки “Войти”.  
4) Попробовать нажать на кнопку “Войти” (если UI позволяет клик по disabled — зафиксировать поведение).  
Expected Result:
- Кнопка “Войти” отображается в disabled-состоянии.
- Отправка формы не происходит.
- Ошибки “Неверный логин или пароль” не появляется (т.к. нет отправки).
Postconditions: —  

---

**TC-AUTH-003**  
Title: Кнопка “Войти” неактивна при заполненном пароле и пустом Email  
US: US-LOGIN-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Пользователь не авторизован.
- Открыта модалка “Войти”.
Test Data:
- Password: `AnyPass123`  
Steps:
1) Очистить поле Email, оставить пустым.  
2) Ввести в поле Пароль значение `AnyPass123`.  
3) Проверить состояние кнопки “Войти”.  
Expected Result:
- Кнопка “Войти” disabled, отправка формы невозможна.
Postconditions: —  

---

**TC-AUTH-004**  
Title: Кнопка “Войти” неактивна при заполненном Email и пустом пароле  
US: US-LOGIN-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Пользователь не авторизован.
- Открыта модалка “Войти”.
Test Data:
- Email: `user@test.com`  
Steps:
1) Ввести в поле Email значение `user@test.com`.  
2) Убедиться, что поле Пароль пустое.  
3) Проверить состояние кнопки “Войти”.  
Expected Result:
- Кнопка “Войти” disabled, отправка формы невозможна.
Postconditions: —  

---

**TC-AUTH-005**  
Title: Неверные учетные данные — отображается “Неверный логин или пароль”, вход не выполняется  
US: US-LOGIN-1  
Module: Auth  
Type: Negative  
Priority: P0  
Severity: Critical  
Preconditions:
- Пользователь не авторизован.
- Открыта модалка “Войти”.
Test Data:
- Email: `user@test.com`
- Password: `WrongPass`  
Steps:
1) Ввести Email `user@test.com`.  
2) Ввести пароль `WrongPass`.  
3) Нажать кнопку “Войти”.  
4) Наблюдать результат на форме: наличие сообщения об ошибке и состояние модалки.  
5) Проверить, что состояние авторизации на странице не появилось (нет перехода в ЛК/нет признаков профиля).  
Expected Result:
- Отображается сообщение “Неверный логин или пароль”.
- Пользователь остается неавторизованным.
- Модалка не закрывается автоматически (или закрывается — только если так задумано; в этом кейсе ожидаем, что остается открытой).
Postconditions: —  

---

**TC-AUTH-006**  
Title: Успешный вход по Email — отображается авторизованное состояние (профиль/ЛК)  
US: US-LOGIN-1  
Module: Auth  
Type: Functional  
Priority: P0  
Severity: Critical  
Preconditions:
- Существует тестовый пользователь.
- Пользователь не авторизован.
- Открыта модалка “Войти”.
Test Data:
- Email: `valid@test.com`
- Password: `ValidPass123`  
Steps:
1) Ввести Email `valid@test.com`.  
2) Ввести пароль `ValidPass123`.  
3) Нажать “Войти”.  
4) Дождаться завершения обработки (если есть индикатор/задержка).  
5) Проверить, что модальное окно закрыто.  
6) Проверить наличие признаков авторизации: доступен профиль/ЛК, отображается иконка/меню пользователя.  
Expected Result:
- Авторизация успешна.
- Модалка закрывается.
- Пользователь видит авторизованное состояние (профиль/ЛК доступен).
Postconditions:
- Пользователь авторизован (для последующих тестов при необходимости выполнить выход).

---

**TC-AUTH-007**  
Title: Ссылки “Регистрация” и “Забыли пароль? Восстановить” доступны и работают без ошибок ввода  
US: US-LOGIN-1  
Module: Auth  
Type: UI  
Priority: P2  
Severity: Minor  
Preconditions:
- Пользователь не авторизован.
- Открыта модалка “Войти”.
Test Data: —  
Steps:
1) Не заполняя поля Email и Пароль, проверить наличие ссылки “Регистрация”.  
2) Нажать “Регистрация” и убедиться, что открылась форма регистрации.  
3) Закрыть регистрацию (крестик/назад) и вернуться к форме входа.
4) Ввести невалидные Email и Пароль.
5) Нажать “Войти”. 
6) Нажать “Забыли пароль? Восстановить”.  
Expected Result:
- Ссылки видимы и кликабельны без предварительного ввода данных.
- Открываются соответствующие формы (Регистрация/Восстановление).
Postconditions: —  

---

## Password recovery (Email only)

**TC-REC-001**  
Title: Открытие формы восстановления пароля  
US: US-LOGIN-2  
Module: Auth  
Type: UI  
Priority: P1  
Severity: Major  
Preconditions:
- Пользователь не авторизован.
- Открыта модалка “Войти”.
Test Data: —  
Steps:
1) Ввести невалидные Email и Пароль.
2) Нажать “Войти”.
3) Нажать “Забыли пароль? Восстановить”.  
4) Убедиться, что открыта форма восстановления.  
5) Проверить, что отображается поле Email и кнопка отправки запроса.  
Expected Result:
- Форма восстановления открыта.
- Поле Email присутствует и доступно для ввода.
Postconditions: —  

---

**TC-REC-002**  
Title: Восстановление пароля — невалидный Email не отправляется, отображается ошибка  
US: US-LOGIN-2  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма восстановления пароля.
Test Data:
- Email: `test@`  
Steps:
1) Ввести `test@` в поле Email.  
2) Нажать кнопку отправки/восстановления.  
3) Наблюдать отображение сообщения об ошибке.  
Expected Result:
- Отображается сообщение о некорректном Email.
- Запрос не отправляется (нет success-state).
Postconditions: —  

---

**TC-REC-003**  
Title: Восстановление пароля — валидный Email отправляется, пользователь видит подтверждение  
US: US-LOGIN-2  
Module: Auth  
Type: Functional  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма восстановления пароля.
- Существует тестовый пользователь с Email: `valid@test.com`. 
Test Data:
- Email: `valid@test.com`  
Steps:
1) Ввести Email `valid@test.com`.  
2) Нажать кнопку отправки.  
3) Дождаться ответа системы.  
4) Проверить наличие подтверждения/инструкций на экране.  
Expected Result:
- Запрос восстановления отправлен.
- Пользователь видит success-state/подтверждение и дальнейшие инструкции.
Postconditions: —  

---

# REGISTRATION (Phone +7/+375 + SMS code)

**TC-REG-001**  
Title: Открытие формы регистрации — наличие обязательных полей и согласия  
US: US-REG-1  
Module: Auth  
Type: UI  
Priority: P2  
Severity: Minor  
Preconditions:
- Пользователь не авторизован.
- Открыта модалка “Войти”.
Test Data: —  
Steps:
1) Нажать “Регистрация”.  
2) Проверить отображение полей: ФИО, Email, Телефон, Пароль, Повтор пароля.
3)  Проверить отображение выбора страны в блоке телефон.  
4) Проверить, что телефон допускает формат +7/+375 (по маске/подсказке).  
5) Проверить наличие обязательного согласия (чекбокс/текст).  
Expected Result:
- Форма регистрации открыта.
- Все перечисленные поля и согласие присутствуют.
Postconditions: —  

---

**TC-REG-002**  
Title: “Получить код” disabled при пустом телефоне  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма регистрации.
Test Data: —  
Steps:
1) Убедиться, что поле Телефон пустое.  
2) Проверить состояние кнопки “Получить код”.  
Expected Result:
- “Получить код” disabled, запрос кода не выполняется.
Postconditions: —  

---

**TC-REG-003**  
Title: Телефон +7 — неполный номер блокирует “Получить код” и показывает ошибку/подсказку  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма регистрации.
Test Data:
- Phone: `+7 999 123 45` (неполный)  
Steps:
1) Ввести в поле Телефон значение `+7 999 123 45`.  
2) Перевести фокус с поля (кликнуть в другое место).  
3) Проверить наличие подсказки/ошибки формата.  
4) Проверить состояние “Получить код”.  
Expected Result:
- Отображается подсказка/ошибка о некорректном телефоне.
- “Получить код” disabled.
Postconditions: —  

---

**TC-REG-004**  
Title: Телефон +375 — неполный номер блокирует “Получить код” и показывает ошибку/подсказку  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма регистрации.
Test Data:
- Phone: `+375 29 123 45` (неполный)  
Steps:
1) Ввести `+375 29 123 45` в поле Телефон.  
2) Увести фокус с поля.  
3) Проверить наличие подсказки/ошибки формата.  
4) Проверить состояние “Получить код”.  
Expected Result:
- Подсказка/ошибка формата.
- “Получить код” disabled.
Postconditions: —  

---

**TC-REG-005**  
Title: Невалидный Email — сообщение “Введите корректную почту”, регистрация недоступна  
US: US-REG-2  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма регистрации.
Test Data:
- Email: `test@`  
Steps:
1) Ввести `test@` в поле Email.  
2) Увести фокус с поля (клик вне).  
3) Проверить наличие сообщения “Введите корректную почту”.  
4) Проверить, что кнопка “Зарегистрироваться” недоступна (при прочих корректных полях/или до их заполнения).  
Expected Result:
- Отображается “Введите корректную почту”.
- Регистрация недоступна до исправления Email.
Postconditions: —  

---

**TC-REG-006**  
Title: Пароль менее 8 символов — ошибка/подсказка, регистрация недоступна  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма регистрации.
Test Data:
- Password: `Q234567`  
Steps:
1) Ввести пароль `Q234567` в поле Пароль.  
2) Увести фокус с поля.  
3) Проверить наличие ошибки/подсказки по длине пароля.  
4) Проверить, что “Зарегистрироваться” недоступна.  
Expected Result:
- Ошибка/подсказка о минимальной длине (Пароль должен быть не менее 8 символов).
- Регистрация недоступна.
Postconditions: —  

---

**TC-REG-007**  
Title: Пароль и повтор пароля не совпадают — “Пароли не совпадают”, регистрация недоступна  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма регистрации.
Test Data:
- Password: `Password123`
- Repeat: `Password12`  
Steps:
1) Ввести пароль `Password123` в поле Пароль.  
2) Ввести `Password12` в поле Повтор пароля.  
3) Увести фокус с поля Повтор пароля.  
4) Проверить отображение сообщения “Пароли не совпадают”.  
5) Проверить состояние кнопки “Зарегистрироваться”.  
Expected Result:
- Появляется сообщение “Пароли не совпадают”.
- “Зарегистрироваться” disabled.
Postconditions: —  

---

**TC-REG-008**  
Title: Запрос SMS-кода при валидном телефоне (+7) инициируется и переводит форму в состояние ввода кода  
US: US-REG-1  
Module: Auth  
Type: Functional  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма регистрации.
Test Data:
- Phone: `+7 999 111-11-11` (валидный по маске)  
Steps:
1) Ввести валидный телефон +7.  
2) Нажать “Получить код”.  
3) Наблюдать реакцию UI: появление поля/блока ввода кода или уведомления “код отправлен” (если реализовано).  
Expected Result:
- Запрос кода инициирован.
- UI отображает ожидаемое состояние ожидания/ввода кода без ошибок.
Postconditions: —  

---

**TC-REG-009**  
Title: Запрос SMS-кода при валидном телефоне (+375) инициируется  
US: US-REG-1  
Module: Auth  
Type: Functional  
Priority: P2  
Severity: Major  
Preconditions:
- Открыта форма регистрации.
Test Data:
- Phone: `+375 29 111-11-11` (валидный по маске)  
Steps:
1) Ввести валидный телефон +375.  
2) Нажать “Получить код”.  
3) Проверить UI-состояние (код отправлен/поле ввода кода).  
Expected Result:
- Код запрошен, UI реагирует корректно.
Postconditions: —  

---

**TC-REG-010**  
Title: Некорректный SMS-код — регистрация недоступна/показывается ошибка  
US: US-REG-1  
Module: Auth  
Type: Negative  
Priority: P1  
Severity: Major  
Preconditions:
- Код запрошен, поле ввода кода доступно.
Test Data:
- Code: `0000` (заведомо неверный)  
Steps:
1) Ввести неверный код `0000`.  
2) Попытаться продолжить регистрацию (нажать “Зарегистрироваться”).  
Expected Result:
- Отображается ошибка по коду или “Зарегистрироваться” остается disabled.
- Регистрация не выполняется.
Postconditions: —  

---

**TC-REG-011**  
Title: “Зарегистрироваться” активна только при валидных данных и обязательном согласии  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма регистрации.
Test Data:
- ФИО: `Иванов Иван`
- Email: `new@test.com`
- Phone: валидный (+7 или +375)
- Password: `Password123`
- Repeat: `Password123`  
Steps:
1) Заполнить ФИО, Email, Телефон, Пароль, Повтор пароля валидно.  
2) Убедиться, что чекбокс согласия НЕ отмечен.  
3) Проверить, что “Зарегистрироваться” disabled.  
4) Отметить чекбокс согласия.  
5) Проверить, что “Зарегистрироваться” стала enabled (при условии валидного кода, если он обязателен до регистрации).  
Expected Result:
- Без согласия регистрация недоступна.
- При валидных данных + согласии кнопка становится доступной (с учетом требования по SMS-коду).
Postconditions: —  

---

**TC-REG-012**  
Title: Успешная регистрация — “Регистрация прошла успешно”, переход на форму входа  
US: US-REG-1  
Module: Auth  
Type: Functional  
Priority: P0  
Severity: Critical  
Preconditions:
- Доступен корректный SMS-код/валидное подтверждение.
Test Data:
- ФИО: `Иванов Иван`
- Email: `new@test.com`
- Phone: `+7 999 111-11-11` (или +375)
- Password: `Password123`
- Repeat: `Password123`
- SMS Code: `<valid>`  
Steps:
1) Открыть регистрацию.  
2) Заполнить форму валидными данными.  
3) Запросить SMS-код (“Получить код”).  
4) Ввести корректный код (если предусмотрено).  
5) Отметить обязательное согласие.  
6) Нажать “Зарегистрироваться”.  
7) Дождаться ответа системы.  
Expected Result:
- Появляется сообщение “Регистрация прошла успешно”.
- Пользователь перенаправляется на форму входа.
Postconditions:
- Создан новый пользователь (в тестовых данных учитывать уникальность Email/телефона).
- Удалить нового пользователя через админ панель или в личном кабинете.

---

**TC-REG-013**  
Title: Ошибка при регистрации — отображается “Сетевая ошибка”, UI не ломается  
US: US-REG-2  
Module: Auth  
Type: Negative  
Priority: P2  
Severity: Major  
Preconditions:
- Форма регистрации заполнена валидно.
Test Data: —  
Steps:
1) Имитировать отсутствие сети.
2) Нажать “Зарегистрироваться”.  
3) При возникновении серверной ошибки (5xx/ошибка сети) зафиксировать текст ошибки и состояние UI.  
4) Попробовать повторить отправку (после закрытия уведомления/исправления сети).  
Expected Result:
- Появляется сообщение “Сетевая ошибка, попробуйте позже” (или эквивалент).
- Форма остается работоспособной, пользователь может повторить попытку.
Postconditions: —  

---

# SEARCH

## Text search

**TC-SRCH-001**  
Title: Поиск по строке запускается по Enter и показывает выдачу  
US: US-SRCH-1  
Module: Search  
Type: Functional  
Priority: P0  
Severity: Critical  
Preconditions:
- Открыта главная страница.
Test Data:
- Query: `фильтр`  
Steps:
1) Найти поле поиска в шапке сайта.  
2) Ввести текст `фильтр`.  
3) Нажать Enter.  
4) Дождаться отображения результатов.  
Expected Result:
- Отображается блок выдачи по запросу.
- Выдача соответствует введенному запросу (по смыслу/наличию товаров).
Postconditions: —  

---

**TC-SRCH-002**  
Title: Поиск по строке запускается по клику на “лупу”  
US: US-SRCH-1  
Module: Search  
Type: Functional  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта главная страница.
Test Data:
- Query: `масло`  
Steps:
1) Ввести `масло` в поле поиска.  
2) Нажать на кнопку/иконку “лупа”.  
3) Дождаться выдачи.  
Expected Result:
- Отображается выдача по запросу.
Postconditions: —  

---

**TC-SRCH-003**  
Title: Пустой запрос — поиск не выполняется  
US: US-SRCH-1  
Module: Search  
Type: Negative  
Priority: P2  
Severity: Minor  
Preconditions:
- Открыта главная страница.
Test Data: —  
Steps:
1) Очистить поле поиска, чтобы оно было пустым.  
2) Нажать Enter.  
3) Нажать “лупу”.  
Expected Result:
- Поиск не выполняется (страница/выдача не меняется, появляется подсказка — “По вашему запросу ничего не найдено”).
Postconditions: —  

---

**TC-SRCH-004**  
Title: В выдаче отображается счетчик “Найдено товаров: X”  
US: US-SRCH-2  
Module: Search  
Type: UI  
Priority: P3  
Severity: Minor  
Preconditions:
- Выполнен поиск с результатами.
Test Data: —  
Steps:
1) На странице/блоке выдачи найти элемент счетчика результатов.  
2) Проверить, что текст содержит “Найдено товаров:” и число X.  
Expected Result:
- Счетчик отображается и содержит корректное число результатов.
Postconditions: —  

---

**TC-SRCH-005**  
Title: При 0 результатов отображается “Ничего не найдено” и кнопка “Перейти в каталог”  
US: US-SRCH-4  
Module: Search  
Type: Functional  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта главная страница.
Test Data:
- Query: `qwertyqwertyqwerty`  
Steps:
1) Ввести `qwertyqwertyqwerty` в поле поиска.  
2) Запустить поиск (Enter).  
3) Дождаться результата.  
4) Проверить наличие сообщения “Ничего не найдено”.  
5) Проверить наличие кнопки “Перейти в каталог”.  
Expected Result:
- Отображается empty state “Ничего не найдено”.
- Есть кнопка “Перейти в каталог”.
Postconditions: —  

---

**TC-SRCH-006**  
Title: Кнопка “Перейти в каталог” переводит пользователя в каталог  
US: US-SRCH-4  
Module: Search  
Type: Functional  
Priority: P2  
Severity: Minor  
Preconditions:
- Открыт empty state по результатам поиска.
Test Data: —  
Steps:
1) Нажать “Перейти в каталог”.  
2) Дождаться перехода.  
3) Проверить URL/заголовок страницы/наличие элементов каталога.  
Expected Result:
- Происходит переход в каталог товаров.
- Каталог отображается корректно.
Postconditions: —  

---

## Tags / уточнения

**TC-TAGS-001**  
Title: Теги уточнения отображаются только при наличии вариантов  
US: US-SRCH-3  
Module: Search  
Type: UI  
Priority: P3  
Severity: Minor  
Preconditions:
- Выполнить запрос, который в системе имеет уточняющие теги (Бренды/категории товара).
Test Data:
- Query: `<запрос с тегами>`  
Steps:
1) Выполнить поиск по запросу, который должен показать теги.  
2) Проверить, что под поиском отображаются теги уточнения.  
3) Выполнить поиск по запросу, который не должен показывать теги.  
4) Проверить, что теги отсутствуют.  
Expected Result:
- Теги отображаются только когда есть уточнения.
Postconditions: —  

---

**TC-TAGS-002**  
Title: Клик по тегу уточняет выдачу  
US: US-SRCH-3  
Module: Search  
Type: Functional  
Priority: P3  
Severity: Minor  
Preconditions:
- На странице выдачи отображаются теги уточнения.
Test Data: —  
Steps:
1) Зафиксировать текущий список/первые 8 карточек выдачи (для сравнения).  
2) Нажать на один из тегов.  
3) Дождаться обновления выдачи/открытия новой страницы с результатами поиска.  
4) Сравнить выдачу с исходной (должна измениться/уточниться).  
Expected Result:
- Выдача обновляется согласно выбранному тегу (Бренд/Категории).
Postconditions: —  

---

# AI PHOTO SEARCH

**TC-AI-001**  
Title: Открытие формы “Найдите запчасти по фото” из выдачи  
US: US-SRCH-2, US-SRCH-5  
Module: AI Photo Search  
Type: UI  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта выдача результатов поиска (по любому запросу).
Test Data: —  
Steps:
1) На странице выдачи найти блок “Найдите запчасти по фото”.  
2) Нажать на блок/кнопку открытия формы.  
3) Проверить, что открылась форма/модальное окно загрузки фото.  
Expected Result:
- Форма/модальное окно загрузки фото открывается корректно.
Postconditions: —  

---

**TC-AI-002**  
Title: Кнопка “Отправить” disabled без загруженного файла  
US: US-SRCH-5  
Module: AI Photo Search  
Type: Validation  
Priority: P0  
Severity: Major  
Preconditions:
- Открыта форма загрузки фото.
Test Data: —  
Steps:
1) Убедиться, что файл не выбран/не загружен.  
2) Проверить состояние кнопки “Отправить”.  
3) Попробовать нажать на кнопку (если UI позволяет).  
Expected Result:
- “Отправить” disabled, отправка не выполняется.
Postconditions: —  

---

**TC-AI-003**  
Title: Валидный формат JPG/JPEG (≤10 МБ) принимается, отправка доступна  
US: US-SRCH-5  
Module: AI Photo Search  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма загрузки фото.
Test Data:
- File: `photo.jpg` (JPG/JPEG, размер ≤10 МБ)  
Steps:
1) Нажать “Выбрать файл”/область загрузки.  
2) Выбрать файл `photo.jpg`.  
3) Убедиться, что файл отображается как загруженный/выбранный.  
4) Проверить, что кнопка “Отправить” стала активной.  
Expected Result:
- Файл принимается.
- “Отправить” enabled.
Postconditions: —  

---

**TC-AI-004**  
Title: Валидный формат PNG (≤10 МБ) принимается, отправка доступна  
US: US-SRCH-5  
Module: AI Photo Search  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма загрузки фото.
Test Data:
- File: `photo.png` (PNG, размер ≤10 МБ)  
Steps:
1) Выбрать файл `photo.png`.  
2) Проверить, что файл принят.  
3) Проверить доступность “Отправить”.  
Expected Result:
- Файл принимается.
- “Отправить” enabled.
Postconditions: —  

---

**TC-AI-005**  
Title: Неподдерживаемый формат (например PDF/GIF) отклоняется с ошибкой  
US: US-SRCH-5  
Module: AI Photo Search  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма загрузки фото.
Test Data:
- File: `doc.pdf` / `image.gif`  
Steps:
1) Попытаться выбрать файл `doc.pdf` (или `image.gif`).  
2) Наблюдать реакцию UI: сообщение об ошибке/отклонение файла.  
3) Проверить состояние “Отправить”.  
Expected Result:
- Невозмозно выбрать файл / появляется сообщение о неподдерживаемом формате.
- Файл не принимается, “Отправить” disabled.
Postconditions: —  

---

**TC-AI-006**  
Title: Файл больше 10 МБ отклоняется с ошибкой по размеру  
US: US-SRCH-5  
Module: AI Photo Search  
Type: Validation  
Priority: P1  
Severity: Major  
Preconditions:
- Открыта форма загрузки фото.
Test Data:
- File: `big.jpg` (размер >10 МБ)  
Steps:
1) Выбрать файл `big.jpg` >10 МБ.  
2) Проверить наличие сообщения об ошибке размера.  
3) Проверить состояние “Отправить”.  
Expected Result:
- Появляется сообщение о превышении лимита размера.
- “Отправить” disabled.
Postconditions: —  

---

**TC-AI-007**  
Title: Во время обработки фото отображается loader, интерфейс не “зависает”  
US: US-SRCH-6  
Module: AI Photo Search  
Type: UI  
Priority: P2  
Severity: Minor  
Preconditions:
- В форме выбран валидный файл (JPG/PNG ≤10 МБ).
Test Data:
- File: `photo.jpg`  
Steps:
1) Нажать “Отправить”.  
2) Сразу после отправки наблюдать UI: наличие loader/индикатора обработки.  
3) Дождаться завершения обработки.  
Expected Result:
- В течение обработки виден loader/индикатор.
- После завершения loader исчезает и отображается результат/сообщение.
Postconditions: —  

---

**TC-AI-008**  
Title: Успешная обработка — отображается выдача схожих запчастей (карточки товаров)  
US: US-SRCH-6  
Module: AI Photo Search  
Type: Functional  
Priority: P1  
Severity: Major  
Preconditions:
- Есть валидное фото, по которому ожидаются совпадения (тестовое изображение).
Test Data:
- File: `match.jpg` (JPG ≤10 МБ)  
Steps:
1) Открыть форму поиска по фото.  
2) Загрузить файл `match.jpg`.  
3) Нажать “Отправить”.  
4) Дождаться завершения обработки.  
5) Проверить, что отображается блок результатов: карточки товаров как при поиске через окно поиска.  
6) Проверить минимум полей на карточках: название/изображение/цена.  
Expected Result:
- Отображается выдача похожих запчастей.
- Карточки содержат минимум данных (название/изображение/цена).
Postconditions: —  

---

**TC-AI-009**  
Title: Если совпадений нет — отображается “На изображении не обнаружена запчасть” и пользователь может продолжить поиск  
US: US-SRCH-6  
Module: AI Photo Search  
Type: Functional  
Priority: P1  
Severity: Major  
Preconditions:
- Есть валидное фото без совпадений.
Test Data:
- File: `nomatch.jpg` (JPG ≤10 МБ)  
Steps:
1) Открыть форму поиска по фото.  
2) Загрузить `nomatch.jpg`.  
3) Нажать “Отправить”.  
4) Дождаться завершения обработки.  
5) Проверить наличие сообщения “На изображении не обнаружена запчасть” (или эквивалент).  
6) Проверить, что пользователь может закрыть окно и вернуться к поиску/каталогу.  
Expected Result:
- Отображается empty state “На изображении не обнаружена запчасть” (или эквивалент).
- UI остается работоспособным, можно продолжить поиск.
Postconditions: —  

---

**TC-AI-010**  
Title: Ошибка обработки фото (ИИ/сервер) — показывается сообщение об ошибке и доступна повторная попытка  
US: US-SRCH-6  
Module: AI Photo Search  
Type: Negative  
Priority: P1  
Severity: Major  
Preconditions:
- Возможна имитация ошибки обработки (таймаут/5xx/отключение сети) или наблюдение реальной ошибки.
Test Data:
- File: `photo.jpg` (валидный)  
Steps:
1) Открыть форму поиска по фото.  
2) Загрузить валидный файл.  
3) Нажать “Отправить”.  
4) При возникновении ошибки обработки зафиксировать текст сообщения.  
5) Проверить, что пользователь может повторить попытку: повторно нажать “Отправить” (или загрузить другое фото) без перезагрузки страницы.  
Expected Result:
- Отображается сообщение: “Не удалось обработать изображение. Попробуйте другое фото или повторите позже” (или эквивалент).
- Интерфейс не ломается; доступна повторная попытка.
Postconditions: —  
