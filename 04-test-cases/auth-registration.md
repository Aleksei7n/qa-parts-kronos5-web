# Test Cases — Auth: Registration (+7/+375 + SMS code)

Версия: 1.1  
Окружение по умолчанию: Chrome (desktop), https://parts-kronos5.ru/

---

# REGISTRATION (Phone +7/+375 + SMS code)

**TC-REG-001**  
Title: Открытие формы регистрации — наличие обязательных полей и согласия  
US: US-REG-1  
Module: Auth  
Type: UI  
Priority: P2  
Severity: Minor  

Preconditions:
- Пользователь не авторизован.
- Открыта модалка “Войти”.

Test Data: —  

Steps:
1) Нажать “Регистрация”.  
2) Проверить отображение полей: ФИО, Email, Телефон, Пароль, Повтор пароля.  
3) Проверить наличие выбора страны/кода в блоке телефона (если предусмотрено).  
4) Проверить, что телефон допускает формат +7/+375 (по маске/подсказке).  
5) Проверить наличие обязательного согласия (чекбокс/текст).  

Expected Result:
- Форма регистрации открыта.  
- Все перечисленные поля присутствуют и доступны для ввода.  
- Блок телефона поддерживает ввод +7/+375 (по маске/выбору страны).  
- Чекбокс согласия присутствует.  

Postconditions: —  

---

**TC-REG-002**  
Title: “Получить код” disabled при пустом телефоне  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  

Preconditions:
- Открыта форма регистрации.

Test Data: —  

Steps:
1) Убедиться, что поле Телефон пустое.  
2) Проверить состояние кнопки “Получить код”.  

Expected Result:
- “Получить код” disabled, запрос кода не выполняется.  

Postconditions: —  

---

**TC-REG-003**  
Title: Телефон +7 — неполный номер блокирует “Получить код” и показывает ошибку/подсказку  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  

Preconditions:
- Открыта форма регистрации.

Test Data:
- Phone: `+7 999 123 45` (неполный)

Steps:
1) Ввести в поле Телефон значение `+7 999 123 45`.  
2) Перевести фокус с поля (кликнуть в другое место).  
3) Проверить наличие подсказки/ошибки формата.  
4) Проверить состояние “Получить код”.  

Expected Result:
- Отображается подсказка/ошибка о некорректном телефоне (если предусмотрено).  
- “Получить код” disabled.  

Postconditions: —  

---

**TC-REG-004**  
Title: Телефон +375 — неполный номер блокирует “Получить код” и показывает ошибку/подсказку  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  

Preconditions:
- Открыта форма регистрации.

Test Data:
- Phone: `+375 29 123 45` (неполный)

Steps:
1) Ввести `+375 29 123 45` в поле Телефон.  
2) Увести фокус с поля.  
3) Проверить наличие подсказки/ошибки формата.  
4) Проверить состояние “Получить код”.  

Expected Result:
- Отображается подсказка/ошибка формата (если предусмотрено).  
- “Получить код” disabled.  

Postconditions: —  

---

**TC-REG-005**  
Title: Невалидный Email — сообщение “Введите корректную почту”, регистрация недоступна  
US: US-REG-2  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  

Preconditions:
- Открыта форма регистрации.

Test Data:
- Email: `test@`

Steps:
1) Ввести `test@` в поле Email.  
2) Увести фокус с поля (клик вне).  
3) Проверить наличие сообщения “Введите корректную почту”.  
4) Проверить, что регистрация недоступна (кнопка “Зарегистрироваться” disabled либо не происходит отправка).  

Expected Result:
- Отображается сообщение “Введите корректную почту”.  
- Регистрация недоступна до исправления Email.  

Postconditions: —  

---

**TC-REG-006**  
Title: Пароль менее 8 символов — ошибка/подсказка, регистрация недоступна  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  

Preconditions:
- Открыта форма регистрации.

Test Data:
- Password: `Q234567` (7 символов)

Steps:
1) Ввести пароль `Q234567` в поле Пароль.  
2) Увести фокус с поля.  
3) Проверить наличие подсказки “Пароль должен быть не менее 8 символов” (или эквивалент).  
4) Проверить, что регистрация недоступна.  

Expected Result:
- Отображается подсказка/ошибка о минимальной длине (≥8).  
- Регистрация недоступна.  

Postconditions: —  

---

**TC-REG-007**  
Title: Пароль и повтор пароля не совпадают — “Пароли не совпадают”, регистрация недоступна  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  

Preconditions:
- Открыта форма регистрации.

Test Data:
- Password: `Password123`
- Repeat: `Password12`

Steps:
1) Ввести пароль `Password123` в поле Пароль.  
2) Ввести `Password12` в поле Повтор пароля.  
3) Увести фокус с поля Повтор пароля.  
4) Проверить отображение сообщения “Пароли не совпадают”.  
5) Проверить состояние кнопки “Зарегистрироваться”.  

Expected Result:
- Появляется сообщение “Пароли не совпадают”.  
- “Зарегистрироваться” disabled.  

Postconditions: —  

---

**TC-REG-008**  
Title: Запрос SMS-кода при валидном телефоне (+7) инициируется  
US: US-REG-1  
Module: Auth  
Type: Functional  
Priority: P1  
Severity: Major  

Preconditions:
- Открыта форма регистрации.

Test Data:
- Phone: `+7 999 111-11-11` (валидный по маске)

Steps:
1) Ввести валидный телефон +7.  
2) Нажать “Получить код”.  
3) Проверить UI-состояние: появление поля/блока ввода кода или уведомление “Код отправлен” (если реализовано).  

Expected Result:
- Запрос кода инициирован.  
- UI отображает корректное состояние отправки/ожидания кода без ошибок.  

Postconditions: —  

---

**TC-REG-009**  
Title: Запрос SMS-кода при валидном телефоне (+375) инициируется  
US: US-REG-1  
Module: Auth  
Type: Functional  
Priority: P2  
Severity: Major  

Preconditions:
- Открыта форма регистрации.

Test Data:
- Phone: `+375 29 111-11-11` (валидный по маске)

Steps:
1) Ввести валидный телефон +375.  
2) Нажать “Получить код”.  
3) Проверить UI-состояние: код отправлен/поле ввода кода (если реализовано).  

Expected Result:
- Код запрошен, UI реагирует корректно.  

Postconditions: —  

---

**TC-REG-010**  
Title: Некорректный SMS-код — регистрация не выполняется  
US: US-REG-1  
Module: Auth  
Type: Negative  
Priority: P1  
Severity: Major  

Preconditions:
- Код запрошен, поле ввода кода доступно (если предусмотрено).

Test Data:
- Code: `0000` (заведомо неверный)

Steps:
1) Ввести неверный код `0000`.  
2) Попытаться продолжить регистрацию (нажать “Зарегистрироваться” или подтвердить код, если есть отдельный шаг).  

Expected Result:
- Отображается ошибка по коду (или “Зарегистрироваться” остается disabled).  
- Регистрация не выполняется.  

Postconditions: —  

---

**TC-REG-011**  
Title: “Зарегистрироваться” активна только при валидных данных и обязательном согласии  
US: US-REG-1  
Module: Auth  
Type: Validation  
Priority: P1  
Severity: Major  

Preconditions:
- Открыта форма регистрации.

Test Data:
- ФИО: `Иванов Иван`
- Email: `new@test.com`
- Phone: валидный (+7 или +375)
- Password: `Password123`
- Repeat: `Password123`

Steps:
1) Заполнить ФИО, Email, Телефон, Пароль, Повтор пароля валидно.  
2) Не отмечая чекбокс согласия, проверить, что “Зарегистрироваться” disabled.  
3) Отметить чекбокс согласия.  
4) Проверить, что “Зарегистрироваться” становится enabled (с учетом требования по SMS-коду/его ввода, если обязателен до регистрации).  

Expected Result:
- Без согласия регистрация недоступна.  
- При валидных данных + согласии кнопка доступна (с учетом обязательности SMS-кода).  

Postconditions: —  

---

**TC-REG-012**  
Title: Успешная регистрация — “Регистрация прошла успешно”, переход на форму входа  
US: US-REG-1  
Module: Auth  
Type: Functional  
Priority: P0  
Severity: Critical  

Preconditions:
- Доступен корректный SMS-код/валидное подтверждение (если функционал активен на стенде).

Test Data:
- ФИО: `Иванов Иван`
- Email: `new@test.com`
- Phone: `+7 999 111-11-11` (или +375)
- Password: `Password123`
- Repeat: `Password123`
- SMS Code: `<valid>`

Steps:
1) Открыть форму регистрации.  
2) Заполнить форму валидными данными.  
3) Нажать “Получить код” и дождаться подтверждения отправки.  
4) Ввести корректный код (если предусмотрено).  
5) Отметить обязательное согласие.  
6) Нажать “Зарегистрироваться”.  
7) Дождаться ответа системы.  

Expected Result:
- Появляется сообщение “Регистрация прошла успешно”.  
- Пользователь переводится на форму входа.  

Postconditions:
- Создан новый пользователь (учитывать уникальность Email/телефона).  

---

**TC-REG-013**  
Title: Ошибка сети/сервера при регистрации — отображается сообщение, UI не ломается  
US: US-REG-2  
Module: Auth  
Type: Negative  
Priority: P2  
Severity: Major  

Preconditions:
- Форма регистрации заполнена валидно.

Test Data: —  

Steps:
1) Имитировать отсутствие сети **или** дождаться фактической ошибки сети/серверного ответа (5xx).  
2) Нажать “Зарегистрироваться”.  
3) Зафиксировать текст сообщения об ошибке и состояние UI.  
4) Восстановить сеть (если отключали) и повторить попытку отправки.  

Expected Result:
- Отображается сообщение об ошибке (например: “Произошла ошибка, попробуйте позже” / “Сетевая ошибка…” — в зависимости от реализации).  
- UI остается работоспособным, пользователь может повторить действие без перезагрузки страницы.  

Postconditions: —  
